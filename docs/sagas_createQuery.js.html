<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: sagas/createQuery.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: sagas/createQuery.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @class Query
 * @classdesc
 * Query
 */
export class Query {
  /**
   * constructor
   */
  constructor() {
    this.query = {};
  }

  /**
   * Creates a Query that includes children that match the specified value.
   * @param value The value to match for. The argument type depends on which orderBy*() function was used in this query. Specify a value that matches the orderBy*() type. When used in combination with orderByKey(), the value must be a string.
   * @param {optional} key  The child key to start at, among the children with the previously specified priority. This argument is only allowed if ordering by child, value, or priority.
   * @method Query#equalTo
   */
  equalTo(value, key) {
    this.query = Object.assign(this.query, { equalTo: { needParams: true, params: { value, key } } });
    return this;
  }

  /**
   * Creates a Query with the specified starting point.
   *
   * @param value The value to start at. The argument type depends on which orderBy*() function was used in this query. Specify a value that matches the orderBy*() type. When used in combination with orderByKey(), the value must be a string.
   * @param {optional} key The child key to start at. This argument is only allowed if ordering by child, value, or priority.
   * @method Query#startAt
   */
  startAt(value, key) {
    this.query = Object.assign(this.query, { startAt: { needParams: true, params: { value, key } } });
    return this;
  }

  /**
   * Creates a Query with the specified ending point.
   *
   * @param value The value to end at. The argument type depends on which orderBy*() function was used in this query. Specify a value that matches the orderBy*() type. When used in combination with orderByKey(), the value must be a string.
   * @param {optional} key
   * @method Query#endAt
   */
  endAt(value, key) {
    this.query = Object.assign(this.query, { endAt: { needParams: true, params: { value, key } } });
    return this;
  }

  /**
   * Generates a new Query object limited to the last specific number of children.
   *
   * @param limit The maximum number of nodes to include in this query.
   * @method Query#limitToLast
   */
  limitToLast(limit) {
    this.query = Object.assign(this.query, { limitToLast: { needParams: true, params: { limit } } });
    return this;
  }

  /**
   * Generates a new Query limited to the first specific number of children.
   *
   * @param limit The maximum number of nodes to include in this query.
   * @method Query#limitToFirst
   */
  limitToFirst(limit) {
    this.query = Object.assign(this.query, { limitToFirst: { needParams: true, params: { limit } } });
    return this;
  }

  /**
   * Generates a new Query object ordered by value.
   * @method Query#orderByValue
   */
  orderByValue() {
    this.query = Object.assign(this.query, { orderByValue: { needParams: false } });
    return this;
  }

  /**
   * Generates a new Query object ordered by priority.
   * @method Query#orderByPriority
   */
  orderByPriority() {
    this.query = Object.assign(this.query, { orderByPriority: { needParams: false } });
    return this;
  }

  /**
   * Generates a new Query object ordered by the specified child key.
   *
   * @param path
   * @method Query#orderByChild
   */
  orderByChild(path) {
    this.query = Object.assign(this.query, { orderByChild: { needParams: true, params: { path } } });
    return this;
  }

  /**
   * Generates a new Query object ordered by key.
   * @method Query#orderByKey
   */
  orderByKey() {
    this.query = Object.assign(this.query, { orderByKey: { needParams: false } });
    return this;
  }

  /**
   * Resets the query
   * @method Query#reset
   */
  reset() {
    this.query = {};
  }

  /**
   * Return the query as JSON-String
   * @method Query#toJSON
   */
  toJSON() {
    return this.query;
  }
}

/**
 * Creates a new Query
 * @function
 * @return {Query} query
 * @example
 * import { createQuery } from 'firebase-sagas';
 *
 * const query = createQuery().startAt(10).endAt(15).orderByValue();
 */
const createQuery = () => new Query();

export default createQuery;
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-auth.html">auth</a></li><li><a href="module-constants.html">constants</a></li><li><a href="module-database.html">database</a></li></ul><h3>Classes</h3><ul><li><a href="FirebaseSagas.html">FirebaseSagas</a></li><li><a href="Query.html">Query</a></li></ul><h3>Global</h3><ul><li><a href="global.html#createAuthSaga">createAuthSaga</a></li><li><a href="global.html#createFirebaseSagas">createFirebaseSagas</a></li><li><a href="global.html#createQuery">createQuery</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.0</a> on Sun Aug 06 2017 12:24:09 GMT+0200 (CEST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
